<!DOCTYPE html>
<html>
  <head>
    <script src="bower_components/PreloadJS/lib/preloadjs-0.6.2.combined.js"></script>
    <script src="pathseg-polyfill.js"></script>
    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/howler.js/howler.js"></script>
    <script src="bower_components/pixi.js/bin/pixi.js"></script>
    <script src="bower_components/Matter/build/matter.js"></script>
    <script src="bower_components/pixi-particles/dist/pixi-particles.js"></script>
    <script src="render.js"></script>
    <script src="particle.js"></script>
    <script src="lib.js"></script>
    <script src="levels.js"></script>
    <link rel="stylesheet" href="bower_components/animate.css/animate.min.css">
    <style>
      html, body { height: 100%; margin: 0; }
      html, body {
          height: 100%;
      }

      html {
          display: table;
          margin: auto;
          background-color: #D2AE8D;
          font-size: 2em;
          font-family: bloodfont;
          color: darkred;
      }

      body {
          display: table-cell;
          vertical-align: middle;
          background-color: 
      }
      @font-face {
        font-family: bloodfont;
        src: url(fonts/strange/strange.ttf);
      }

      .popup {
        font-family: bloodfont;
        color: darkred;
        position: relative;
        top: -720px;
        left: 50px;
        width: 900px;
        height: 0;
        text-align: center;
      }
      #popup {
        -webkit-animation-duration: 2.5s;
        -webkit-animation-delay: 0s;
        -webkit-animation-iteration-count: 1;
        -moz-animation-duration: 2.5s;
        -moz-animation-delay: 0s;
        -moz-animation-iteration-count: 1;
      }
      a {
        text-decoration: none;
        font-family: bloodfont;
        color: darkred;
      }
      #popup a {
        text-decoration: none;
        color: inherit;
      }
      #title {
        font-size: 8em;
      }
      h1 {
        font-size: 2em;
      }
    </style>
    <script>
      function popupMessage (text) {
        document.querySelector('#title').textContent = text
        var popup = document.querySelector('#popup')
        popup.setAttribute('style','visibility:visible;')
        popup.classList.add('animated')
        popup.classList.add('bounceIn')

        var level = Number((location.hash.length > 0 ? location.hash : '#1').slice(1))
        document.querySelector('#restart').setAttribute('href', './#level'+level)
        document.querySelector('#nextlevel').setAttribute('href', './#'+(level+1))
      }

      $( document ).ready(function() {
        $('<span>Level: </span>').appendTo(document.body)
        for (var i in levels) {
          var show = Number(i) + 1
          $('<span><a href="./#' + show + '">' + show + '</a>, </span>').appendTo(document.body)
        }
        if (location.hash === '#1') {
          document.querySelector('#intro').setAttribute('style', 'visibility: visible;')
          setTimeout(function () {
            document.querySelector('#intro').setAttribute('style', 'visibility: hidden;')
          }, 3000)
        }
      })

    </script>
  </head>
  <body>
    <script src="main.js"></script>
    <div id="popup" class="popup" style="visibility: hidden;">
      <div id="title">You Won!!</div>
      <a id="restart"> Restart </a> <a id="nextlevel" style="padding-left:50px;"> Next Level</a>
    </div>
    <div id="intro" class="popup" style="visibility: hidden;">
      <h1>Game of Hara Kiri!!</h1>
      <p> You have braught dishonor to your Family! Commit Hara Kiri and free </p>
    </div>
    <!--div id="lost">
      You Lost!! 
    </div-->
  </body>
</html>
